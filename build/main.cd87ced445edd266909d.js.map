{"version":3,"sources":["webpack:///./apiService.js","webpack:///./gallery_template.hbs"],"names":["refs","gallery_place","document","querySelector","gallery","input","loadMore","numberOfphotos","item_gallery","debounce","require","state","itemsPerPage","page","images","value","disabled","withANewTerm","paint","array","showFirstPageGallery","map","items","items_gallery","join","innerHTML","erred","alert","type","shadow","styling","icons","title","text","delay","load","str","test","url","fetch","then","data","json","hits","catch","addEventListener","event","preventDefault","nextPage","handlerSetPages","insertAdjacentHTML","image","console","log","window","scrollTo","innerHeight","target","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call"],"mappings":"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","file":"main.cd87ced445edd266909d.js","sourcesContent":["'use strict';\r\nimport items_gallery from './gallery_template.hbs';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { alert } from '@pnotify/core/dist/PNotify.js';\r\n\r\nconst refs = {\r\n  gallery_place: document.querySelector('.gallery_place'),\r\n  gallery: document.querySelector('.gallery'),\r\n  input: document.querySelector('.input_Text'),\r\n  loadMore: document.querySelector('.load_more'),\r\n  numberOfphotos: document.querySelector('.numberOfphotos'),\r\n  item_gallery: document.querySelector('.item_gallery'),\r\n};\r\n\r\nconst debounce = require('lodash/debounce');\r\nconst state = {\r\n  itemsPerPage: 12,\r\n  page: 1,\r\n  images: [],\r\n};\r\n\r\n///=================\r\nrefs.numberOfphotos.value = state.itemsPerPage;\r\nrefs.numberOfphotos.disabled = true;\r\n\r\nconst handlerSetPages = nextPage => {\r\n  refs.numberOfphotos.value = state.itemsPerPage * nextPage;\r\n  return;\r\n};\r\nconst withANewTerm = () => {\r\n  state.images = [];\r\n  refs.numberOfphotos.value = 12;\r\n  state.page = 1;\r\n};\r\n\r\nconst paint = array => {\r\n  const showFirstPageGallery = array\r\n    .map(items => items_gallery(items))\r\n    .join('');\r\n\r\n  refs.gallery.innerHTML = showFirstPageGallery;\r\n\r\n  return;\r\n};\r\n\r\nconst info = () => {\r\n  alert({\r\n    type: 'info',\r\n    shadow: true,\r\n    styling: 'brighttheme',\r\n    icons: 'brighttheme',\r\n    title: 'Увага Друже !',\r\n    text: 'Заповни поле ',\r\n    delay: 1000,\r\n  });\r\n};\r\n\r\nconst erred = () => {\r\n  alert({\r\n    type: 'error',\r\n    shadow: true,\r\n    styling: 'brighttheme',\r\n    icons: 'brighttheme',\r\n    title: 'Увага Друже !',\r\n    text: 'Мабудь щось пішло не так. Спробуй ще раз... Латиницею ',\r\n    delay: 1000,\r\n  });\r\n};\r\n\r\nconst load = str => {\r\n  if (str !== '') {\r\n    const templ = /[а-я]|ї|є|ё|ґ/ig;\r\n    if(templ.test(str)===true){\r\n      return erred();\r\n    };\r\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${str}&page=${state.page}&per_page=12&key=17529185-ee1c09177ccec717363f5cb46`;\r\n    fetch(url)\r\n      .then(data => data.json())\r\n      .then(data => {\r\n        state.images = data.hits;\r\n\r\n        paint(state.images);\r\n\r\n        return;\r\n      })\r\n      .catch(() => {\r\n        erred();\r\n        return;\r\n      });\r\n  } else {\r\n    withANewTerm();\r\n    info();\r\n    return;\r\n  }\r\n};\r\n\r\nconst getInput = event => {\r\n  state.str = '';\r\n  refs.gallery.innerHTML = '';\r\n  const str = event.target.value;\r\n  load(str);\r\n  state.str = str;\r\n};\r\n\r\nconst loadMore = event => {\r\n  event.preventDefault();\r\n  const str = state.str;\r\n  if (str === '') {\r\n    erred();\r\n    return;\r\n  }\r\n\r\n  state.page++;\r\n\r\n  const nextPage = state.page;\r\n\r\n  handlerSetPages(nextPage);\r\n\r\n  const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${str}&page=${nextPage}&per_page=12&key=17529185-ee1c09177ccec717363f5cb46`;\r\n\r\n  fetch(url)\r\n    .then(data => data.json())\r\n    .then(data => {\r\n      if (str !== '') {\r\n        state.images = [...data.hits];\r\n        refs.gallery.insertAdjacentHTML('beforeend', state.image);\r\n        paint(state.images);\r\n        console.log();\r\n        window.scrollTo(0, window.innerHeight);\r\n\r\n        return;\r\n      }\r\n\r\n      withANewTerm();\r\n\r\n      return;\r\n    });\r\n};\r\n// =============================\r\n\r\n// =========================\r\n\r\nrefs.loadMore.addEventListener('click', loadMore);\r\n\r\nrefs.input.addEventListener('input', debounce(getInput, 1000));\r\n","var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"item_gallery\\\">\\r\\n    <div class=\\\"photo-card\\\">\\r\\n        \\r\\n\\r\\n        <img class = \\\"photo\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":34},\"end\":{\"line\":5,\"column\":50}}}) : helper)))\n    + \"\\\" data-source =\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":66},\"end\":{\"line\":5,\"column\":83}}}) : helper)))\n    + \"\\\"  alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":91},\"end\":{\"line\":5,\"column\":99}}}) : helper)))\n    + \"\\\" />\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">favorite\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":50},\"end\":{\"line\":9,\"column\":59}}}) : helper)))\n    + \"</i>\\r\\n                1108\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">visibility\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":52},\"end\":{\"line\":13,\"column\":61}}}) : helper)))\n    + \"</i>\\r\\n                320321\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">comment_bank\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":54},\"end\":{\"line\":17,\"column\":66}}}) : helper)))\n    + \"</i>\\r\\n                129\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">get_app\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":49},\"end\":{\"line\":21,\"column\":62}}}) : helper)))\n    + \"</i>\\r\\n                176019\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}